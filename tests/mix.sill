foo : {};;
foo = _ <-{close};;

foo : {};;
foo = _ <-{};;

'top <- _ <- foo;
        _ <- foo;
        close 'top;;

(* Space seems needed to avoid mislexing :/ *)
bar : { <- @1; !1};;
_<- bar -< 'a !u = wait 'a; ;;

brillig : {@1};;
@c <- brillig = close @c;;

slithy : {!1};;
'c <- slithy = close 'c;;

'top <- @a <- brillig;
        !u <- slithy;
        _ <- bar -< @a !u;
        close 'top;;
